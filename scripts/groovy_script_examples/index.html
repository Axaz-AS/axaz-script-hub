<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Groovy Scripts for Boomi - Early 2000s Style</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism-okaidia.min.css" />
    <style>
      body {
        font-family: "Comic Sans MS", cursive, sans-serif;
        background-color: #000080;
        color: #00ff00;
        margin: 20px;
        line-height: 1.6;
      }
      .container {
        background-color: #000000;
        border: 3px solid #00ff00;
        padding: 20px;
        max-width: 800px;
        margin: 0 auto;
      }
      h1 {
        text-align: center;
        color: #ff00ff;
        text-shadow: 2px 2px #ffff00;
      }
      h2 {
        color: #00ffff;
      }
      pre {
        background-color: #272822;
        border: 1px solid #00ff00;
        padding: 10px;
        overflow-x: auto;
      }
      .blink {
        animation: blinker 1s linear infinite;
      }
      @keyframes blinker {
        50% {
          opacity: 0;
        }
      }
      .marquee {
        background-color: #000000;
        color: #ffff00;
        white-space: nowrap;
        overflow: hidden;
        box-sizing: border-box;
      }
      .marquee p {
        display: inline-block;
        padding-left: 100%;
        animation: marquee 15s linear infinite;
      }
      @keyframes marquee {
        0% {
          transform: translate(0, 0);
        }
        100% {
          transform: translate(-100%, 0);
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>üöÄ Groovy Scripts for Boomi üöÄ</h1>
      <div class="marquee">
        <p>Welcome to the coolest Groovy scripts collection for Boomi this side of the millennium! üéâüéä</p>
      </div>
      <h2>What's this all about? ü§î</h2>
      <p>
        Greetings, fellow code wizards! üßô‚Äç‚ôÇÔ∏è Behold this magical collection of Groovy script examples for Boomi custom
        scripting. These scripts are your ticket to mastering the art of working with Boomi properties and XML/JSON
        data. Whether you're a newbie or a seasoned pro, these examples will make your Boomi experience groovy, baby!
        Yeah!
      </p>
      <h2 class="blink">‚ö†Ô∏è The Sacred Code ‚ö†Ô∏è</h2>
      <pre><code class="language-groovy">
import java.util.Properties;
import java.io.InputStream;
import java.io.ByteArrayInputStream;


// XML Handeling
import groovy.util.XmlSlurper;
import groovy.xml.StreamingMarkupBuilder

// Read XML object from input stream
def parseXml(InputStream is) {
    def xmlSlurper = new XmlSlurper()
    return xmlSlurper.parse(is)
}

// Convert XML to input stream
def encodeXml(xml_data){
    def builder = new StreamingMarkupBuilder()
    String xmlString = builder.bind {
        mkp.yield xml
    }
    return new ByteArrayInputStream(xmlString.getBytes("UTF-8"))
}


// JSON Handeling
import groovy.json.JsonSlurper;
import groovy.json.JsonOutput;

// Read JSON object from input stream
def parseJson(InputStream is) {
    def jsonSlurper = new JsonSlurper()
    return jsonSlurper.parse(is)
}

// Convert JSON to input stream
def encodeJson(json_data) {
    def jsonString = JsonOutput.toJson(outputJson)
    jsonString = JsonOutput.prettyPrint(jsonString)
    return new ByteArrayInputStream(jsonString.getBytes("UTF-8"))
}


//library needed to get/set dynamic process properties
import com.boomi.execution.ExecutionUtil;
// Get dynamic process property
example_dpp_string = ExecutionUtil.getDynamicProcessProperty("example_input_dpp");
// Set dynamic process property
Boolean presist = false
ExecutionUtil.setDynamicProcessProperty("example_output_dpp", example_dpp_string, presist);


for (int i = 0; i < dataContext.getDataCount(); i++) {
    InputStream is = dataContext.getStream(i);
    Properties props = dataContext.getProperties(i);

    // Get value from dynamic document property
    String example_ddp_string = props.getProperty("document.dynamic.userdefined.example_input_ddp")

    // Set dynamic document property
    props.setProperty("document.dynamic.userdefined.example_output_ddp", example_ddp_string)

    // If reading from the input stream and then passing it on
    is.reset()

    // Store the updated properties
    dataContext.storeStream(is, props)
}
        </code></pre>
      <h2>How to use this cosmic knowledge? üå†</h2>
      <ol>
        <li>Copy the code snippets you need</li>
        <li>Paste them into your Boomi custom script component</li>
        <li>Customize to fit your specific requirements</li>
        <li>Watch the magic happen! ‚ú®</li>
      </ol>
      <p>
        Remember, with great power comes great responsibility. Use these scripts wisely, and may the force of Boomi be
        with you! üññ
      </p>
      <div class="marquee">
        <p>
          Thanks for visiting! Don't forget to bookmark this page and share it with your fellow Boomi enthusiasts! üöÄüåü
        </p>
      </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/plugins/autoloader/prism-autoloader.min.js"></script>
  </body>
</html>
